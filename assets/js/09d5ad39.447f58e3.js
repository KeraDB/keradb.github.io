"use strict";(globalThis.webpackChunkkeradb_docs=globalThis.webpackChunkkeradb_docs||[]).push([[864],{1470:(e,n,t)=>{t.d(n,{A:()=>k});var s=t(6540),a=t(4164),r=t(7559),o=t(3104),i=t(6347),d=t(205),l=t(7485),c=t(1682),u=t(679);function p(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function f(e){const{values:n,children:t}=e;return(0,s.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,i.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(a),(0,s.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})},[a,t])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,r=f(e),[o,i]=(0,s.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r})),[l,c]=m({queryString:t,groupId:a}),[p,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,u.Dv)(n);return[t,(0,s.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),_=(()=>{const e=l??p;return h({value:e,tabValues:r})?e:null})();(0,d.A)(()=>{_&&i(_)},[_]);return{selectedValue:o,selectValue:(0,s.useCallback)(e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);i(e),c(e),g(e)},[c,g,r]),tabValues:r}}var _=t(2303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var w=t(4848);function b({className:e,block:n,selectedValue:t,selectValue:s,tabValues:r}){const i=[],{blockElementScrollPositionUntilNextRender:d}=(0,o.a_)(),l=e=>{const n=e.currentTarget,a=i.indexOf(n),o=r[a].value;o!==t&&(d(n),s(o))},c=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,w.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:r.map(({value:e,label:n,attributes:s})=>(0,w.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{i.push(e)},onKeyDown:c,onClick:l,...s,className:(0,a.A)("tabs__item",y.tabItem,s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:t}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===t);return e?(0,s.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,w.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function v(e){const n=g(e);return(0,w.jsxs)("div",{className:(0,a.A)(r.G.tabs.container,"tabs-container",y.tabList),children:[(0,w.jsx)(b,{...n,...e}),(0,w.jsx)(x,{...n,...e})]})}function k(e){const n=(0,_.A)();return(0,w.jsx)(v,{...e,children:p(e.children)},String(n))}},3973:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>f,frontMatter:()=>d,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"examples","title":"Examples","description":"Practical examples demonstrating common use cases for KeraDB.","source":"@site/docs/examples.md","sourceDirName":".","slug":"/examples","permalink":"/docs/examples","draft":false,"unlisted":false,"editUrl":"https://github.com/keradb/keradb.github.io/tree/main/docs/examples.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Query Guide","permalink":"/docs/query-guide"},"next":{"title":"Contributing","permalink":"/docs/contributing"}}');var a=t(4848),r=t(8453),o=t(1470),i=t(9365);const d={sidebar_position:5},l="Examples",c={},u=[{value:"Todo Application",id:"todo-application",level:2},{value:"User Management System",id:"user-management-system",level:2},{value:"Configuration Store",id:"configuration-store",level:2},{value:"Next Steps",id:"next-steps",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"examples",children:"Examples"})}),"\n",(0,a.jsx)(n.p,{children:"Practical examples demonstrating common use cases for KeraDB."}),"\n","\n",(0,a.jsx)(n.h2,{id:"todo-application",children:"Todo Application"}),"\n",(0,a.jsx)(n.p,{children:"A simple todo list application demonstrating CRUD operations."}),"\n",(0,a.jsxs)(o.A,{children:[(0,a.jsx)(i.A,{value:"nodejs",label:"Node.js",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const { KeraDB } = require('keradb');\n\nclass TodoApp {\n  constructor(dbPath) {\n    this.db = new KeraDB(dbPath);\n    this.todos = this.db.collection('todos');\n    this.init();\n  }\n\n  async init() {\n    // Create indexes for better performance\n    await this.todos.createIndex({ userId: 1 });\n    await this.todos.createIndex({ completed: 1 });\n    await this.todos.createIndex({ createdAt: -1 });\n  }\n\n  async addTodo(userId, title, description) {\n    const result = await this.todos.insertOne({\n      userId,\n      title,\n      description,\n      completed: false,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    });\n    return result.insertedId;\n  }\n\n  async getTodosByUser(userId, showCompleted = false) {\n    const query = { userId };\n    if (!showCompleted) {\n      query.completed = false;\n    }\n    return await this.todos.find(query)\n      .sort({ createdAt: -1 })\n      .toArray();\n  }\n\n  async completeTodo(todoId) {\n    return await this.todos.updateOne(\n      { _id: todoId },\n      { \n        $set: { \n          completed: true, \n          completedAt: new Date(),\n          updatedAt: new Date()\n        } \n      }\n    );\n  }\n\n  async updateTodo(todoId, updates) {\n    return await this.todos.updateOne(\n      { _id: todoId },\n      { \n        $set: { \n          ...updates, \n          updatedAt: new Date() \n        } \n      }\n    );\n  }\n\n  async deleteTodo(todoId) {\n    return await this.todos.deleteOne({ _id: todoId });\n  }\n\n  async getStats(userId) {\n    const allTodos = await this.todos.find({ userId }).toArray();\n    const completed = allTodos.filter(t => t.completed).length;\n    \n    return {\n      total: allTodos.length,\n      completed,\n      pending: allTodos.length - completed\n    };\n  }\n\n  async close() {\n    await this.db.close();\n  }\n}\n\n// Usage example\nasync function main() {\n  const app = new TodoApp('./data/todos.db');\n\n  // Add todos\n  await app.addTodo('user1', 'Buy groceries', 'Milk, eggs, bread');\n  await app.addTodo('user1', 'Write documentation', 'Complete API docs');\n  await app.addTodo('user1', 'Review PRs', 'Check pending pull requests');\n\n  // Get user's todos\n  const todos = await app.getTodosByUser('user1');\n  console.log('Active todos:', todos);\n\n  // Complete a todo\n  if (todos.length > 0) {\n    await app.completeTodo(todos[0]._id);\n  }\n\n  // Get statistics\n  const stats = await app.getStats('user1');\n  console.log('Stats:', stats);\n\n  await app.close();\n}\n\nmain();\n"})})}),(0,a.jsx)(i.A,{value:"python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from keradb import KeraDB\nfrom datetime import datetime\n\nclass TodoApp:\n    def __init__(self, db_path):\n        self.db = KeraDB(db_path)\n        self.todos = self.db.collection('todos')\n        self.init()\n\n    def init(self):\n        # Create indexes for better performance\n        self.todos.create_index('user_id')\n        self.todos.create_index('completed')\n        self.todos.create_index('created_at', direction=-1)\n\n    def add_todo(self, user_id, title, description):\n        result = self.todos.insert_one({\n            'user_id': user_id,\n            'title': title,\n            'description': description,\n            'completed': False,\n            'created_at': datetime.now(),\n            'updated_at': datetime.now()\n        })\n        return result.inserted_id\n\n    def get_todos_by_user(self, user_id, show_completed=False):\n        query = {'user_id': user_id}\n        if not show_completed:\n            query['completed'] = False\n        return list(self.todos.find(query).sort('created_at', -1))\n\n    def complete_todo(self, todo_id):\n        return self.todos.update_one(\n            {'_id': todo_id},\n            {\n                '$set': {\n                    'completed': True,\n                    'completed_at': datetime.now(),\n                    'updated_at': datetime.now()\n                }\n            }\n        )\n\n    def update_todo(self, todo_id, updates):\n        updates['updated_at'] = datetime.now()\n        return self.todos.update_one(\n            {'_id': todo_id},\n            {'$set': updates}\n        )\n\n    def delete_todo(self, todo_id):\n        return self.todos.delete_one({'_id': todo_id})\n\n    def get_stats(self, user_id):\n        all_todos = list(self.todos.find({'user_id': user_id}))\n        completed = len([t for t in all_todos if t['completed']])\n        \n        return {\n            'total': len(all_todos),\n            'completed': completed,\n            'pending': len(all_todos) - completed\n        }\n\n    def close(self):\n        self.db.close()\n\n# Usage example\ndef main():\n    app = TodoApp('./data/todos.db')\n\n    # Add todos\n    app.add_todo('user1', 'Buy groceries', 'Milk, eggs, bread')\n    app.add_todo('user1', 'Write documentation', 'Complete API docs')\n    app.add_todo('user1', 'Review PRs', 'Check pending pull requests')\n\n    # Get user's todos\n    todos = app.get_todos_by_user('user1')\n    print('Active todos:', todos)\n\n    # Complete a todo\n    if todos:\n        app.complete_todo(todos[0]['_id'])\n\n    # Get statistics\n    stats = app.get_stats('user1')\n    print('Stats:', stats)\n\n    app.close()\n\nif __name__ == '__main__':\n    main()\n"})})})]}),"\n",(0,a.jsx)(n.h2,{id:"user-management-system",children:"User Management System"}),"\n",(0,a.jsx)(n.p,{children:"A user management system with authentication and role-based access."}),"\n",(0,a.jsxs)(o.A,{children:[(0,a.jsx)(i.A,{value:"nodejs",label:"Node.js",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const { KeraDB } = require('keradb');\nconst crypto = require('crypto');\n\nclass UserManager {\n  constructor(dbPath) {\n    this.db = new KeraDB(dbPath);\n    this.users = this.db.collection('users');\n    this.sessions = this.db.collection('sessions');\n    this.init();\n  }\n\n  async init() {\n    // Create unique index on email\n    await this.users.createIndex({ email: 1 }, { unique: true });\n    await this.users.createIndex({ role: 1 });\n    await this.sessions.createIndex({ userId: 1 });\n    await this.sessions.createIndex({ expiresAt: 1 });\n  }\n\n  hashPassword(password) {\n    return crypto.createHash('sha256').update(password).digest('hex');\n  }\n\n  async createUser(email, password, name, role = 'user') {\n    const hashedPassword = this.hashPassword(password);\n    \n    try {\n      const result = await this.users.insertOne({\n        email,\n        password: hashedPassword,\n        name,\n        role,\n        active: true,\n        createdAt: new Date(),\n        lastLogin: null\n      });\n      \n      return result.insertedId;\n    } catch (error) {\n      if (error.code === 'DUPLICATE_KEY') {\n        throw new Error('Email already exists');\n      }\n      throw error;\n    }\n  }\n\n  async authenticate(email, password) {\n    const hashedPassword = this.hashPassword(password);\n    const user = await this.users.findOne({ \n      email, \n      password: hashedPassword,\n      active: true\n    });\n\n    if (!user) {\n      return null;\n    }\n\n    // Update last login\n    await this.users.updateOne(\n      { _id: user._id },\n      { $set: { lastLogin: new Date() } }\n    );\n\n    // Create session\n    const sessionId = crypto.randomBytes(32).toString('hex');\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000); // 24 hours\n\n    await this.sessions.insertOne({\n      sessionId,\n      userId: user._id,\n      createdAt: new Date(),\n      expiresAt\n    });\n\n    return { user, sessionId };\n  }\n\n  async getUserBySession(sessionId) {\n    const session = await this.sessions.findOne({\n      sessionId,\n      expiresAt: { $gt: new Date() }\n    });\n\n    if (!session) {\n      return null;\n    }\n\n    return await this.users.findOne({ _id: session.userId });\n  }\n\n  async getUsersByRole(role) {\n    return await this.users.find({ role, active: true }).toArray();\n  }\n\n  async updateUserRole(userId, newRole) {\n    return await this.users.updateOne(\n      { _id: userId },\n      { $set: { role: newRole } }\n    );\n  }\n\n  async deactivateUser(userId) {\n    await this.users.updateOne(\n      { _id: userId },\n      { $set: { active: false } }\n    );\n    \n    // Delete all sessions\n    await this.sessions.deleteMany({ userId });\n  }\n\n  async logout(sessionId) {\n    return await this.sessions.deleteOne({ sessionId });\n  }\n\n  async close() {\n    await this.db.close();\n  }\n}\n\n// Usage example\nasync function main() {\n  const userMgr = new UserManager('./data/users.db');\n\n  // Create users\n  await userMgr.createUser('admin@example.com', 'password123', 'Admin User', 'admin');\n  await userMgr.createUser('john@example.com', 'password123', 'John Doe', 'user');\n\n  // Authenticate\n  const auth = await userMgr.authenticate('john@example.com', 'password123');\n  console.log('Authenticated:', auth.user.name);\n\n  // Get user by session\n  const user = await userMgr.getUserBySession(auth.sessionId);\n  console.log('Session user:', user.name);\n\n  // Get all admins\n  const admins = await userMgr.getUsersByRole('admin');\n  console.log('Admins:', admins);\n\n  await userMgr.close();\n}\n\nmain();\n"})})}),(0,a.jsx)(i.A,{value:"python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from keradb import KeraDB\nfrom datetime import datetime, timedelta\nimport hashlib\nimport secrets\n\nclass UserManager:\n    def __init__(self, db_path):\n        self.db = KeraDB(db_path)\n        self.users = self.db.collection('users')\n        self.sessions = self.db.collection('sessions')\n        self.init()\n\n    def init(self):\n        # Create unique index on email\n        self.users.create_index('email', unique=True)\n        self.users.create_index('role')\n        self.sessions.create_index('user_id')\n        self.sessions.create_index('expires_at')\n\n    def hash_password(self, password):\n        return hashlib.sha256(password.encode()).hexdigest()\n\n    def create_user(self, email, password, name, role='user'):\n        hashed_password = self.hash_password(password)\n        \n        try:\n            result = self.users.insert_one({\n                'email': email,\n                'password': hashed_password,\n                'name': name,\n                'role': role,\n                'active': True,\n                'created_at': datetime.now(),\n                'last_login': None\n            })\n            return result.inserted_id\n        except Exception as error:\n            if hasattr(error, 'code') and error.code == 'DUPLICATE_KEY':\n                raise Exception('Email already exists')\n            raise error\n\n    def authenticate(self, email, password):\n        hashed_password = self.hash_password(password)\n        user = self.users.find_one({\n            'email': email,\n            'password': hashed_password,\n            'active': True\n        })\n\n        if not user:\n            return None\n\n        # Update last login\n        self.users.update_one(\n            {'_id': user['_id']},\n            {'$set': {'last_login': datetime.now()}}\n        )\n\n        # Create session\n        session_id = secrets.token_hex(32)\n        expires_at = datetime.now() + timedelta(hours=24)\n\n        self.sessions.insert_one({\n            'session_id': session_id,\n            'user_id': user['_id'],\n            'created_at': datetime.now(),\n            'expires_at': expires_at\n        })\n\n        return {'user': user, 'session_id': session_id}\n\n    def get_user_by_session(self, session_id):\n        session = self.sessions.find_one({\n            'session_id': session_id,\n            'expires_at': {'$gt': datetime.now()}\n        })\n\n        if not session:\n            return None\n\n        return self.users.find_one({'_id': session['user_id']})\n\n    def get_users_by_role(self, role):\n        return list(self.users.find({'role': role, 'active': True}))\n\n    def update_user_role(self, user_id, new_role):\n        return self.users.update_one(\n            {'_id': user_id},\n            {'$set': {'role': new_role}}\n        )\n\n    def deactivate_user(self, user_id):\n        self.users.update_one(\n            {'_id': user_id},\n            {'$set': {'active': False}}\n        )\n        \n        # Delete all sessions\n        self.sessions.delete_many({'user_id': user_id})\n\n    def logout(self, session_id):\n        return self.sessions.delete_one({'session_id': session_id})\n\n    def close(self):\n        self.db.close()\n\n# Usage example\ndef main():\n    user_mgr = UserManager('./data/users.db')\n\n    # Create users\n    user_mgr.create_user('admin@example.com', 'password123', 'Admin User', 'admin')\n    user_mgr.create_user('john@example.com', 'password123', 'John Doe', 'user')\n\n    # Authenticate\n    auth = user_mgr.authenticate('john@example.com', 'password123')\n    print('Authenticated:', auth['user']['name'])\n\n    # Get user by session\n    user = user_mgr.get_user_by_session(auth['session_id'])\n    print('Session user:', user['name'])\n\n    # Get all admins\n    admins = user_mgr.get_users_by_role('admin')\n    print('Admins:', admins)\n\n    user_mgr.close()\n\nif __name__ == '__main__':\n    main()\n"})})})]}),"\n",(0,a.jsx)(n.h2,{id:"configuration-store",children:"Configuration Store"}),"\n",(0,a.jsx)(n.p,{children:"A flexible configuration management system with versioning."}),"\n",(0,a.jsxs)(o.A,{children:[(0,a.jsx)(i.A,{value:"nodejs",label:"Node.js",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const { KeraDB } = require('keradb');\n\nclass ConfigStore {\n  constructor(dbPath) {\n    this.db = new KeraDB(dbPath);\n    this.configs = this.db.collection('configs');\n    this.history = this.db.collection('config_history');\n    this.init();\n  }\n\n  async init() {\n    await this.configs.createIndex({ key: 1 }, { unique: true });\n    await this.configs.createIndex({ category: 1 });\n    await this.history.createIndex({ key: 1 });\n    await this.history.createIndex({ timestamp: -1 });\n  }\n\n  async set(key, value, category = 'default', description = '') {\n    const now = new Date();\n    \n    // Get current value for history\n    const current = await this.configs.findOne({ key });\n    if (current) {\n      // Save to history\n      await this.history.insertOne({\n        key,\n        value: current.value,\n        category: current.category,\n        description: current.description,\n        timestamp: current.updatedAt\n      });\n    }\n\n    // Update or insert config\n    await this.configs.updateOne(\n      { key },\n      {\n        $set: {\n          key,\n          value,\n          category,\n          description,\n          updatedAt: now,\n          createdAt: current ? current.createdAt : now\n        }\n      },\n      { upsert: true }\n    );\n  }\n\n  async get(key, defaultValue = null) {\n    const config = await this.configs.findOne({ key });\n    return config ? config.value : defaultValue;\n  }\n\n  async getByCategory(category) {\n    const configs = await this.configs.find({ category }).toArray();\n    return configs.reduce((acc, cfg) => {\n      acc[cfg.key] = cfg.value;\n      return acc;\n    }, {});\n  }\n\n  async getAll() {\n    const configs = await this.configs.find().toArray();\n    return configs.reduce((acc, cfg) => {\n      acc[cfg.key] = cfg.value;\n      return acc;\n    }, {});\n  }\n\n  async delete(key) {\n    const current = await this.configs.findOne({ key });\n    if (current) {\n      // Save to history before deleting\n      await this.history.insertOne({\n        key,\n        value: current.value,\n        category: current.category,\n        description: current.description,\n        timestamp: new Date(),\n        deleted: true\n      });\n    }\n    \n    return await this.configs.deleteOne({ key });\n  }\n\n  async getHistory(key, limit = 10) {\n    return await this.history.find({ key })\n      .sort({ timestamp: -1 })\n      .limit(limit)\n      .toArray();\n  }\n\n  async restore(key, timestamp) {\n    const historical = await this.history.findOne({ key, timestamp });\n    if (!historical) {\n      throw new Error('Historical version not found');\n    }\n\n    await this.set(\n      key,\n      historical.value,\n      historical.category,\n      historical.description\n    );\n  }\n\n  async close() {\n    await this.db.close();\n  }\n}\n\n// Usage example\nasync function main() {\n  const config = new ConfigStore('./data/config.db');\n\n  // Set configurations\n  await config.set('app.name', 'My Application', 'app', 'Application name');\n  await config.set('app.version', '1.0.0', 'app', 'Application version');\n  await config.set('db.host', 'localhost', 'database', 'Database host');\n  await config.set('db.port', 5432, 'database', 'Database port');\n\n  // Get single value\n  const appName = await config.get('app.name');\n  console.log('App name:', appName);\n\n  // Get by category\n  const dbConfig = await config.getByCategory('database');\n  console.log('Database config:', dbConfig);\n\n  // Update value\n  await config.set('app.version', '1.1.0', 'app', 'Updated version');\n\n  // Get history\n  const history = await config.getHistory('app.version');\n  console.log('Version history:', history);\n\n  // Get all configs\n  const allConfig = await config.getAll();\n  console.log('All config:', allConfig);\n\n  await config.close();\n}\n\nmain();\n"})})}),(0,a.jsx)(i.A,{value:"python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from keradb import KeraDB\nfrom datetime import datetime\n\nclass ConfigStore:\n    def __init__(self, db_path):\n        self.db = KeraDB(db_path)\n        self.configs = self.db.collection('configs')\n        self.history = self.db.collection('config_history')\n        self.init()\n\n    def init(self):\n        self.configs.create_index('key', unique=True)\n        self.configs.create_index('category')\n        self.history.create_index('key')\n        self.history.create_index('timestamp', direction=-1)\n\n    def set(self, key, value, category='default', description=''):\n        now = datetime.now()\n        \n        # Get current value for history\n        current = self.configs.find_one({'key': key})\n        if current:\n            # Save to history\n            self.history.insert_one({\n                'key': key,\n                'value': current['value'],\n                'category': current['category'],\n                'description': current['description'],\n                'timestamp': current['updated_at']\n            })\n\n        # Update or insert config\n        self.configs.update_one(\n            {'key': key},\n            {\n                '$set': {\n                    'key': key,\n                    'value': value,\n                    'category': category,\n                    'description': description,\n                    'updated_at': now,\n                    'created_at': current['created_at'] if current else now\n                }\n            },\n            upsert=True\n        )\n\n    def get(self, key, default_value=None):\n        config = self.configs.find_one({'key': key})\n        return config['value'] if config else default_value\n\n    def get_by_category(self, category):\n        configs = list(self.configs.find({'category': category}))\n        return {cfg['key']: cfg['value'] for cfg in configs}\n\n    def get_all(self):\n        configs = list(self.configs.find())\n        return {cfg['key']: cfg['value'] for cfg in configs}\n\n    def delete(self, key):\n        current = self.configs.find_one({'key': key})\n        if current:\n            # Save to history before deleting\n            self.history.insert_one({\n                'key': key,\n                'value': current['value'],\n                'category': current['category'],\n                'description': current['description'],\n                'timestamp': datetime.now(),\n                'deleted': True\n            })\n        \n        return self.configs.delete_one({'key': key})\n\n    def get_history(self, key, limit=10):\n        return list(self.history.find({'key': key})\n                   .sort('timestamp', -1)\n                   .limit(limit))\n\n    def restore(self, key, timestamp):\n        historical = self.history.find_one({'key': key, 'timestamp': timestamp})\n        if not historical:\n            raise Exception('Historical version not found')\n\n        self.set(\n            key,\n            historical['value'],\n            historical['category'],\n            historical['description']\n        )\n\n    def close(self):\n        self.db.close()\n\n# Usage example\ndef main():\n    config = ConfigStore('./data/config.db')\n\n    # Set configurations\n    config.set('app.name', 'My Application', 'app', 'Application name')\n    config.set('app.version', '1.0.0', 'app', 'Application version')\n    config.set('db.host', 'localhost', 'database', 'Database host')\n    config.set('db.port', 5432, 'database', 'Database port')\n\n    # Get single value\n    app_name = config.get('app.name')\n    print('App name:', app_name)\n\n    # Get by category\n    db_config = config.get_by_category('database')\n    print('Database config:', db_config)\n\n    # Update value\n    config.set('app.version', '1.1.0', 'app', 'Updated version')\n\n    # Get history\n    history = config.get_history('app.version')\n    print('Version history:', history)\n\n    # Get all configs\n    all_config = config.get_all()\n    print('All config:', all_config)\n\n    config.close()\n\nif __name__ == '__main__':\n    main()\n"})})})]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/query-guide",children:"Query Guide"})," - Learn advanced query techniques"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/core-concepts",children:"Core Concepts"})," - Understand the fundamentals"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/contributing",children:"Contributing"})," - Help improve KeraDB"]}),"\n"]})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(6540);const a={},r=s.createContext(a);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var s=t(4164);const a={tabItem:"tabItem_Ymn6"};var r=t(4848);function o({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(a.tabItem,t),hidden:n,children:e})}}}]);