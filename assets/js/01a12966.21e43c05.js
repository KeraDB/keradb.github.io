"use strict";(globalThis.webpackChunkkeradb_docs=globalThis.webpackChunkkeradb_docs||[]).push([[79],{959:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"getting-started/nodejs","title":"Node.js SDK","description":"Learn how to install and use KeraDB in your Node.js applications.","source":"@site/docs/getting-started/nodejs.md","sourceDirName":"getting-started","slug":"/getting-started/nodejs","permalink":"/docs/getting-started/nodejs","draft":false,"unlisted":false,"editUrl":"https://github.com/keradb/keradb.github.io/tree/main/docs/getting-started/nodejs.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/docs/"},"next":{"title":"Python SDK","permalink":"/docs/getting-started/python"}}');var a=s(4848),i=s(8453);const r={sidebar_position:1},l="Node.js SDK",d={},o=[{value:"Installation",id:"installation",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Database",id:"database",level:2},{value:"Creating a Database",id:"creating-a-database",level:3},{value:"Database Methods",id:"database-methods",level:3},{value:"Collections",id:"collections",level:2},{value:"Working with Collections",id:"working-with-collections",level:3},{value:"Insert Operations",id:"insert-operations",level:3},{value:"Query Operations",id:"query-operations",level:3},{value:"Update Operations",id:"update-operations",level:3},{value:"Delete Operations",id:"delete-operations",level:3},{value:"Documents",id:"documents",level:2},{value:"Document Structure",id:"document-structure",level:3},{value:"Document IDs",id:"document-ids",level:3},{value:"Nested Documents",id:"nested-documents",level:3},{value:"Indexes",id:"indexes",level:2},{value:"Creating Indexes",id:"creating-indexes",level:3},{value:"Index Types",id:"index-types",level:3},{value:"Managing Indexes",id:"managing-indexes",level:3},{value:"Index Best Practices",id:"index-best-practices",level:3},{value:"Data Types",id:"data-types",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"nodejs-sdk",children:"Node.js SDK"})}),"\n",(0,a.jsx)(n.p,{children:"Learn how to install and use KeraDB in your Node.js applications."}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.p,{children:"Install KeraDB using npm:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install keradb\n"})}),"\n",(0,a.jsx)(n.p,{children:"Or using yarn:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"yarn add keradb\n"})}),"\n",(0,a.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Node.js 14.0 or higher"}),"\n",(0,a.jsx)(n.li,{children:"npm 6.0 or higher"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const { KeraDB } = require('keradb');\n\n// Create a database\nconst db = new KeraDB('./data/myapp.db');\nconst users = db.collection('users');\n\n// Insert a document\nawait users.insertOne({ name: 'Alice', email: 'alice@example.com' });\n\n// Find the document\nconst user = await users.findOne({ name: 'Alice' });\nconsole.log(user);\n\n// Close the database\nawait db.close();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"database",children:"Database"}),"\n",(0,a.jsx)(n.p,{children:"The database is the top-level container for your data. Each database is stored in a single file (or in-memory)."}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-database",children:"Creating a Database"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const { KeraDB } = require('keradb');\n\n// File-based database\nconst db = new KeraDB('./data/myapp.db');\n\n// In-memory database (data is lost when process exits)\nconst memDb = new KeraDB(':memory:');\n\n// With options\nconst dbWithOptions = new KeraDB('./data/myapp.db', {\n  autoCompact: true,\n  compactInterval: 3600000 // Compact every hour\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"database-methods",children:"Database Methods"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Method"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"collection(name)"})}),(0,a.jsx)(n.td,{children:"Get or create a collection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"listCollections()"})}),(0,a.jsx)(n.td,{children:"List all collections in the database"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"dropCollection(name)"})}),(0,a.jsx)(n.td,{children:"Delete a collection and all its documents"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"close()"})}),(0,a.jsx)(n.td,{children:"Close the database connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"compact()"})}),(0,a.jsx)(n.td,{children:"Manually trigger database compaction"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"collections",children:"Collections"}),"\n",(0,a.jsx)(n.p,{children:"Collections are groups of related documents, analogous to tables in relational databases."}),"\n",(0,a.jsx)(n.h3,{id:"working-with-collections",children:"Working with Collections"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Get a collection (creates it if it doesn't exist)\nconst users = db.collection('users');\nconst posts = db.collection('posts');\n\n// List all collections\nconst collections = await db.listCollections();\nconsole.log(collections); // ['users', 'posts']\n\n// Drop a collection\nawait db.dropCollection('posts');\n"})}),"\n",(0,a.jsx)(n.h3,{id:"insert-operations",children:"Insert Operations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Insert a single document\nconst result = await users.insertOne({\n  name: 'Alice Johnson',\n  email: 'alice@example.com',\n  age: 28,\n  role: 'developer'\n});\nconsole.log('Inserted ID:', result.insertedId);\n\n// Insert multiple documents\nconst bulkResult = await users.insertMany([\n  { name: 'Bob Smith', email: 'bob@example.com', age: 35 },\n  { name: 'Carol White', email: 'carol@example.com', age: 42 }\n]);\nconsole.log('Inserted count:', bulkResult.insertedCount);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"query-operations",children:"Query Operations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Find a single document\nconst user = await users.findOne({ email: 'alice@example.com' });\n\n// Find multiple documents\nconst developers = await users.find({ role: 'developer' }).toArray();\n\n// Find with query operators\nconst adults = await users.find({ age: { $gte: 18 } }).toArray();\n\n// Find with limit and sort\nconst topUsers = await users.find()\n  .sort({ age: -1 })\n  .limit(5)\n  .toArray();\n\n// Count documents\nconst count = await users.count({ role: 'developer' });\n"})}),"\n",(0,a.jsx)(n.h3,{id:"update-operations",children:"Update Operations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Update a single document\nconst updateResult = await users.updateOne(\n  { email: 'alice@example.com' },\n  { $set: { age: 29, lastLogin: new Date() } }\n);\nconsole.log('Modified count:', updateResult.modifiedCount);\n\n// Update multiple documents\nawait users.updateMany(\n  { role: 'developer' },\n  { $set: { department: 'Engineering' } }\n);\n\n// Replace a document entirely\nawait users.replaceOne(\n  { email: 'bob@example.com' },\n  { name: 'Robert Smith', email: 'bob@example.com', age: 36, role: 'manager' }\n);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"delete-operations",children:"Delete Operations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Delete a single document\nconst deleteResult = await users.deleteOne({ email: 'carol@example.com' });\nconsole.log('Deleted count:', deleteResult.deletedCount);\n\n// Delete multiple documents\nawait users.deleteMany({ age: { $lt: 18 } });\n"})}),"\n",(0,a.jsx)(n.h2,{id:"documents",children:"Documents"}),"\n",(0,a.jsx)(n.p,{children:"Documents are JSON-like objects that store your data. Each document is stored in a collection."}),"\n",(0,a.jsx)(n.h3,{id:"document-structure",children:"Document Structure"}),"\n",(0,a.jsx)(n.p,{children:"Documents are flexible and schema-free:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const user = {\n  _id: 'auto-generated-id', // Automatically added if not provided\n  name: 'Alice Johnson',\n  email: 'alice@example.com',\n  age: 28,\n  address: {\n    street: '123 Main St',\n    city: 'San Francisco',\n    country: 'USA'\n  },\n  tags: ['developer', 'nodejs', 'python'],\n  createdAt: new Date(),\n  metadata: {\n    lastLogin: new Date(),\n    loginCount: 42\n  }\n};\n\nawait users.insertOne(user);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"document-ids",children:"Document IDs"}),"\n",(0,a.jsxs)(n.p,{children:["Every document has a unique ",(0,a.jsx)(n.code,{children:"_id"})," field:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Automatically generated if not provided"}),"\n",(0,a.jsx)(n.li,{children:"Must be unique within a collection"}),"\n",(0,a.jsx)(n.li,{children:"Can be a string, number, or any primitive type"}),"\n",(0,a.jsx)(n.li,{children:"Cannot be changed after insertion"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Auto-generated ID\nawait users.insertOne({ name: 'Alice' });\n\n// Custom ID\nawait users.insertOne({ \n  _id: 'user_001', \n  name: 'Bob' \n});\n\n// Numeric ID\nawait users.insertOne({ \n  _id: 12345, \n  name: 'Carol' \n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"nested-documents",children:"Nested Documents"}),"\n",(0,a.jsx)(n.p,{children:"Documents can contain nested objects and arrays:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"await posts.insertOne({\n  title: 'Getting Started with KeraDB',\n  author: {\n    name: 'Alice Johnson',\n    email: 'alice@example.com'\n  },\n  tags: ['database', 'tutorial', 'nodejs'],\n  comments: [\n    {\n      user: 'Bob',\n      text: 'Great article!',\n      date: new Date()\n    },\n    {\n      user: 'Carol',\n      text: 'Very helpful',\n      date: new Date()\n    }\n  ]\n});\n\n// Query nested fields using dot notation\nconst post = await posts.findOne({ 'author.email': 'alice@example.com' });\n"})}),"\n",(0,a.jsx)(n.h2,{id:"indexes",children:"Indexes"}),"\n",(0,a.jsx)(n.p,{children:"Indexes improve query performance by creating fast lookup structures."}),"\n",(0,a.jsx)(n.h3,{id:"creating-indexes",children:"Creating Indexes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// Single field index\nawait users.createIndex({ email: 1 });\n\n// Unique index\nawait users.createIndex({ email: 1 }, { unique: true });\n\n// Compound index (multiple fields)\nawait users.createIndex({ lastName: 1, firstName: 1 });\n\n// Index with sort order\nawait users.createIndex({ createdAt: -1 }); // Descending\n\n// Nested field index\nawait posts.createIndex({ 'author.email': 1 });\n\n// Array field index\nawait posts.createIndex({ tags: 1 });\n"})}),"\n",(0,a.jsx)(n.h3,{id:"index-types",children:"Index Types"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Type"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Single Field Index"}),(0,a.jsx)(n.td,{children:"Index on one field"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Compound Index"}),(0,a.jsx)(n.td,{children:"Index on multiple fields"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Unique Index"}),(0,a.jsx)(n.td,{children:"Ensures field values are unique"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Nested Field Index"}),(0,a.jsx)(n.td,{children:"Index on fields within nested documents"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Array Index"}),(0,a.jsx)(n.td,{children:"Index on array elements"})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"managing-indexes",children:"Managing Indexes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// List all indexes\nconst indexes = await users.listIndexes();\nconsole.log(indexes);\n\n// Drop an index\nawait users.dropIndex('email_1');\n\n// Drop all indexes\nawait users.dropIndexes();\n"})}),"\n",(0,a.jsx)(n.h3,{id:"index-best-practices",children:"Index Best Practices"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Advantages:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Faster queries on indexed fields"}),"\n",(0,a.jsx)(n.li,{children:"Support for unique constraints"}),"\n",(0,a.jsx)(n.li,{children:"Efficient sorting"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Slower write operations"}),"\n",(0,a.jsx)(n.li,{children:"Additional storage space"}),"\n",(0,a.jsx)(n.li,{children:"Maintenance overhead"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Tips:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create indexes on frequently queried fields"}),"\n",(0,a.jsx)(n.li,{children:"Use compound indexes for multi-field queries"}),"\n",(0,a.jsx)(n.li,{children:"Don't over-index (only create necessary indexes)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"data-types",children:"Data Types"}),"\n",(0,a.jsx)(n.p,{children:"KeraDB supports standard JSON data types:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Type"}),(0,a.jsx)(n.th,{children:"Description"}),(0,a.jsx)(n.th,{children:"Example"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"String"}),(0,a.jsx)(n.td,{children:"Text data"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"'Hello World'"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Number"}),(0,a.jsx)(n.td,{children:"Integers and floats"}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"42"}),", ",(0,a.jsx)(n.code,{children:"3.14"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Boolean"}),(0,a.jsx)(n.td,{children:"true/false"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"true"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Object"}),(0,a.jsx)(n.td,{children:"Nested documents"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"{ nested: 'value' }"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Array"}),(0,a.jsx)(n.td,{children:"Lists of values"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"[1, 2, 3]"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Date"}),(0,a.jsx)(n.td,{children:"Date and time"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"new Date()"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Null"}),(0,a.jsx)(n.td,{children:"Null value"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"null"})})]})]})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"await collection.insertOne({\n  string: 'Hello World',\n  number: 42,\n  float: 3.14,\n  boolean: true,\n  object: { nested: 'value' },\n  array: [1, 2, 3],\n  date: new Date(),\n  null: null\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,a.jsx)(n.p,{children:"Always handle errors properly:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"try {\n  await users.insertOne({ email: 'duplicate@example.com' });\n  await users.insertOne({ email: 'duplicate@example.com' }); // Will throw\n} catch (error) {\n  if (error.code === 'DUPLICATE_KEY') {\n    console.error('Duplicate email address');\n  } else {\n    console.error('Database error:', error);\n  }\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const { KeraDB } = require('keradb');\n\nasync function main() {\n  // Initialize database\n  const db = new KeraDB('./data/myapp.db');\n  const users = db.collection('users');\n\n  // Create unique index on email\n  await users.createIndex({ email: 1 }, { unique: true });\n\n  try {\n    // Insert a user\n    await users.insertOne({\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25,\n      role: 'developer',\n      skills: ['JavaScript', 'Node.js', 'React']\n    });\n\n    // Find and display the user\n    const user = await users.findOne({ email: 'jane@example.com' });\n    console.log('Found user:', user);\n\n    // Update the user\n    await users.updateOne(\n      { email: 'jane@example.com' },\n      { $set: { age: 26 }, $push: { skills: 'TypeScript' } }\n    );\n\n    // Find all developers\n    const developers = await users.find({ role: 'developer' }).toArray();\n    console.log('All developers:', developers);\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    // Close the database\n    await db.close();\n  }\n}\n\nmain();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/query-guide",children:"Query Guide"})," - Master MongoDB-compatible query operators"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/docs/examples",children:"Examples"})," - See real-world examples"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const a={},i=t.createContext(a);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);